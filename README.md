# database-course-project

## Описание

Данный репозиторий содержит курсовой проект по дисциплине «Проектирование и разработка баз данных» в рамках образовательной программы подготовки бакалавров по направлению 09.03.04 — Программная инженерия.

Проект реализован на языке Go (Golang) с использованием gRPC, Protocol Buffers и PostgreSQL. Система моделирует предметную область «Торговый порт» и представляет собой backend‑сервис с четко выделенным слоем доступа к данным и контрактами взаимодействия через gRPC.

Проект также является частью моего портфолио Golang‑разработчика и демонстрирует навыки проектирования реляционных баз данных, работы с миграциями, gRPC‑сервисами и конфигурацией backend‑приложений.

## Технологический стек

* Go (Golang)
* gRPC
* Protocol Buffers
* PostgreSQL
* migrate (database migrations)
* YAML‑конфигурация
* Makefile

## Предметная область

Торговый порт. В рамках системы моделируются основные сущности и процессы, характерные для работы порта, включая:

* суда
* грузы
* типы грузов
* операции с грузами
* места хранения
* отчетные и агрегированные данные

Каждая бизнес‑сущность описывается отдельным protobuf‑контрактом и обслуживается соответствующим gRPC‑сервисом.

## Архитектура

Проект построен по сервисно‑ориентированному подходу:

* gRPC используется как основной транспорт взаимодействия
* Protocol Buffers описывают контракты и DTO
* PostgreSQL используется как основное хранилище данных
* структура проекта разделяет конфигурацию, бизнес‑логику, слой хранения и транспортный слой

Генерация gRPC‑кода полностью автоматизирована через Makefile.

## Структура проекта (обобщенно)

* `cmd/` — точка входа в приложение
* `config/` — конфигурационные файлы
* `migrations/` — SQL‑миграции базы данных
* `protos/` — protobuf‑описания и сгенерированный код
* `internal/` — внутренняя логика приложения
* `Makefile` — автоматизация задач

## Конфигурация

Для запуска используется переменная окружения `CONFIG_PATH`, указывающая на YAML‑конфигурацию.

Пример `local.yaml`:

```yaml
env: "local"
db_conn_string: "postgres://postgres:password@localhost:5432/postgres"
grpc:
  port: 44044
  timeout: 5s
```

## Makefile

Основные команды:

* `make migrate-up` — применение миграций
* `make migrate-down` — откат миграций
* `make gen-proto` — генерация всех protobuf/gRPC контрактов
* `make run` — запуск приложения

Генерация protobuf‑кода разбита на отдельные цели для каждой бизнес‑сущности.

## Запуск проекта локально

1. Установить PostgreSQL и создать базу данных
2. Создать файл `.env` и указать путь к конфигурации:

```
CONFIG_PATH=config/local.yaml
```

3. Применить миграции:

```
make migrate-up
```

4. Сгенерировать protobuf‑код (при необходимости):

```
make gen-proto
```

5. Запустить сервис:

```
make run
```

## Назначение проекта

Проект разрабатывался в учебных целях, однако структура и используемые технологии соответствуют требованиям к production‑backend‑сервисам. Репозиторий демонстрирует:

* проектирование реляционной модели под предметную область
* работу с PostgreSQL и миграциями
* проектирование gRPC API
* использование Protocol Buffers в Go‑проектах
* организацию конфигурации и инфраструктурных задач

## Статус

Проект завершен и защищен в рамках курсовой работы по дисциплине «Проектирование и разработка баз данных».
